"use strict";(self["webpackChunkvue"]=self["webpackChunkvue"]||[]).push([[230],{15783:function(t,e,i){i.d(e,{A:function(){return c}});var a=function(){var t=this,e=t._self._c;return e("div",[t.total?e("el-row",{attrs:{gutter:10}},t._l(t.tableData,(function(i){return e("el-col",{key:i.id,attrs:{span:12}},[e("div",{staticClass:"card",staticStyle:{"margin-bottom":"10px",cursor:"pointer"},on:{click:function(e){return t.goDetail(i.id)}}},[e("img",{staticStyle:{width:"100%",height:"250px","border-radius":"5px"},attrs:{src:i.cover,alt:""}}),e("div",{staticStyle:{margin:"10px 0","font-weight":"bold",width:"100%",height:"35px","font-size":"15px"}},[t._v(t._s(i.name))]),e("div",{staticStyle:{display:"flex","align-items":"center","justify-content":"space-between"}},[e("div",[e("i",{staticClass:"el-icon-time",staticStyle:{"margin-right":"5px"}}),t._v("报名时间："+t._s(i.applystart)+" - "+t._s(i.applyend))]),i.isApplyEnd?e("div",{staticStyle:{color:"gray","font-weight":"bold"}},[t._v(" 报名已结束 ")]):e("div",{staticClass:"countdown"},[e("div",{staticClass:"countdown-block1"},[e("div",{staticClass:"countdown-value1"},[t._v(t._s(i.applyRemainingDays)+"天 | "+t._s(i.applyRemainingHours)+"小时")])])])]),e("div",{staticStyle:{display:"flex","align-items":"center","justify-content":"space-between"}},[e("div",[e("i",{staticClass:"el-icon-time",staticStyle:{"margin-right":"5px","margin-top":"10px"}}),t._v("比赛时间："+t._s(i.start)+" - "+t._s(i.end))]),i.isEndActivity?e("div",{staticStyle:{color:"gray","font-weight":"bold"}},[t._v(" 已结束 ")]):e("div",{staticClass:"countdown"},[e("div",{staticClass:"countdown-block1"},[e("div",{staticClass:"countdown-value1"},[t._v(t._s(i.remainingDays)+"天 | "+t._s(i.remainingHours)+"小时")])])])]),e("div",{staticStyle:{"text-align":"right","margin-top":"10px"}},[i.isEndActivity?e("el-button",{key:"已结束",attrs:{type:"primary",disabled:""}},[t._v("已结束")]):i.isSign?e("el-button",{key:"已报名",attrs:{type:"primary",disabled:""}},[t._v("已报名")]):e("el-button",{key:"查看详情",attrs:{type:"primary"}},[t._v("查看详情")])],1)])])})),1):t._e(),0===t.total?e("div",{staticClass:"card",staticStyle:{"text-align":"center","font-size":"16px",color:"#666"}},[t._v("暂无数据")]):t._e(),t.total?e("div",{staticClass:"card",staticStyle:{padding:"10px"}},[e("el-pagination",{attrs:{background:"","current-page":t.pageNum,"page-sizes":[4,8,12],"page-size":t.pageSize,layout:"total, prev, pager, next",total:t.total},on:{"current-change":t.handleCurrentChange}}),e("Footer")],1):t._e()],1)},s=[],n=(i(56088),{name:"ActivityList",data(){return{tableData:[],pageNum:1,pageSize:4,total:0,name:null}},props:{type:null,span:null},mounted(){this.load(1),this.startCountdown()},methods:{goDetail(t){window.open("/front/ActivityDetail?activityId="+t)},load(t){let e;switch(this.type){case"user":e="/activity/selectUser";break;case"like":e="/activity/selectLike";break;case"collect":e="/activity/selectCollect";break;case"comment":e="/activity/selectComment";break;default:e="/activity/selectPage"}t&&(this.pageNum=t),this.$request.get(e,{params:{pageNum:this.pageNum,pageSize:this.pageSize,name:this.name,host:this.host}}).then((t=>{this.tableData=t.data?.list,this.total=t.data?.total,this.updateCountdown()}))},reset(){this.name=null,this.host=null,this.load(1)},handleCurrentChange(t){this.load(t)},startCountdown(){setInterval(this.updateCountdown,1e3)},updateCountdown(){if(null==this.tableData||0===this.tableData.length)return;const t=new Date;this.tableData.forEach((e=>{const i=new Date(e.applyend);if(i>t){const a=this.calculateRemainingTime(t,i);this.$set(e,"applyRemainingDays",a.days),this.$set(e,"applyRemainingHours",a.hours),this.$set(e,"isApplyEnd",!1)}else this.$set(e,"applyRemainingDays",0),this.$set(e,"applyRemainingHours",0),this.$set(e,"isApplyEnd",!0);const a=new Date(e.end);if(a>t){const i=this.calculateRemainingTime(t,a);this.$set(e,"remainingDays",i.days),this.$set(e,"remainingHours",i.hours),this.$set(e,"isEndActivity",!1)}else this.$set(e,"remainingDays",0),this.$set(e,"remainingHours",0),this.$set(e,"isEndActivity",!0)}))},calculateRemainingTime(t,e){const i=e-t,a=Math.floor(i/864e5),s=Math.floor(i%864e5/36e5);return{days:a,hours:s}}}}),l=n,o=i(81656),r=(0,o.A)(l,a,s,!1,null,null,null),c=r.exports},56088:function(t,e,i){i.d(e,{A:function(){return c}});var a=function(){var t=this;t._self._c;return t._m(0)},s=[function(){var t=this,e=t._self._c;return e("div",{staticStyle:{"font-size":"16px",padding:"20px 0","text-align":"center","line-height":"30px",color:"#666666"}},[e("div",[t._v("OverShare竞赛信息平台")]),e("div",[t._v("OverShare竞赛信息平台是高含金量竞赛平台。为全国大学生提供各类高含金量竞赛信息聚合、报名和团队招募服务")]),e("div",[t._v("武汉大学软件工程小组NO.14")])])}],n={name:"Footer"},l=n,o=i(81656),r=(0,o.A)(l,a,s,!1,null,"4faddf82",null),c=r.exports},11230:function(t,e,i){i.r(e),i.d(e,{default:function(){return d}});var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"main-content"},[e("ActivityList",{attrs:{span:6}}),e("Footer")],1)},s=[],n=i(56088),l=i(15783),o={name:"Activity",data(){return{}},components:{Footer:n.A,ActivityList:l.A},mounted(){},methods:{}},r=o,c=i(81656),u=(0,c.A)(r,a,s,!1,null,null,null),d=u.exports}}]);
//# sourceMappingURL=230.e958e558.js.map