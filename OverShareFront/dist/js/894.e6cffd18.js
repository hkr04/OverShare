"use strict";(self["webpackChunkvue"]=self["webpackChunkvue"]||[]).push([[894],{32894:function(t,e,a){a.r(e),a.d(e,{default:function(){return c}});var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"main-content",staticStyle:{width:"50%"}},[e("div",{staticClass:"card",staticStyle:{"font-weight":"bold","font-size":"28px",display:"flex"}},[t._v(" 系统通知 ")]),e("div",{staticClass:"card",staticStyle:{"margin-top":"10px"}},[e("el-table",{attrs:{data:t.tableData,stripe:""}},[e("el-table-column",{attrs:{prop:"title",label:"标题",width:"200"}}),e("el-table-column",{attrs:{label:"通知内容"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",[e("el-button",{on:{click:function(e){return t.handleMsgContent(a.row.content)}}},[t._v("查看内容")])],1)]}}])}),e("el-table-column",{attrs:{prop:"time",label:"时间",width:"200"}})],1),e("div",{staticClass:"pagination"},[e("el-pagination",{attrs:{background:"","current-page":t.pageNum,"page-sizes":[5,10,20],"page-size":t.pageSize,layout:"total, prev, pager, next",total:t.total},on:{"current-change":t.handleCurrentChange}})],1)],1),e("el-dialog",{attrs:{title:"通知内容",visible:t.fromVisible,width:"60%","close-on-click-modal":!1,"destroy-on-close":""},on:{"update:visible":function(e){t.fromVisible=e}}},[e("div",{staticClass:"w-e-text"},[e("div",{domProps:{innerHTML:t._s(t.content)}})]),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(e){t.fromVisible=!1}}},[t._v("关 闭")])],1)])],1)},l=[],s={name:"Circulars",data(){return{notice:[],user:JSON.parse(localStorage.getItem("xm-user")||"{}"),tableData:[],pageNum:1,pageSize:10,total:0,fromVisible:!1,content:""}},mounted(){this.load()},methods:{load(t){t&&(this.pageNum=t),this.$request.get("/msg/selectByUserId",{params:{pageNum:this.pageNum,pageSize:this.pageSize,userId:this.user.id}}).then((t=>{this.tableData=t.data?.list,this.total=t.data?.total}))},handleCurrentChange(t){this.load(t)},handleMsgContent(t){this.content=t,this.fromVisible=!0}}},n=s,o=a(81656),r=(0,o.A)(n,i,l,!1,null,"59b1bc9f",null),c=r.exports}}]);
//# sourceMappingURL=894.e6cffd18.js.map